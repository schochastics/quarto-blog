{
  "hash": "938db0be7ba24b274f100e8c944b0e2d",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Migrating a blog to Quarto: Reverse engineering HTML to markdown\"\nauthor:\n  - name: David Schoch\n    orcid: 0000-0003-2952-4812\ndate: 2024-01-02\ncategories: [R, quarto]\n---\n\n\nI migrated my [personal webpage](https://mr.schochastics.net) to Quarto in july 2022. The only thing I did not do was my blog; for two reasons. 1) Quarto was still very new and back then many of todays features were not available. I already needed to hack some things together for my personal page (which are still in place although Quarto now has the features...). For my blog, I wanted to wait until Quarto is more mature, also because 2) I feared that it will not be straightforward to migrate all my blog entries from blogdown to Quarto.\n\nTime went by and I kept thinking about the migration but 2) kept me away from it. Over time though, I realized (as [apparently](https://pacha.dev/blog/2023/05/29/blogdown-to-quarto/index.html) [many](https://www.andreashandel.com/posts/2022-10-01-hugo-to-quarto-migration/\n) [others](https://www.incidentalfindings.org/posts/2022-08-30_from-blogdown-to-quarto/\n)) how broken my hugo/blogdown/theme setup has become. Every update introduced new issues. Lately I barely managed to put a post together without some weird hotfixes in the background. My blog reached the state of [FUBAR](https://en.wikipedia.org/wiki/List_of_military_slang_terms#FUBAR). So it was time to migrate. Or start over? \n\n## Migrate or start over?\n\nPondering about the migration, I reached a point where I considered starting over with my blog. Why go through the hassel of migrating all posts? Obviously I could just leave the blog as is to not break anyones bookmarks (if they even exist) and simply start a new quarto blog. This lazy solution seemed compelling for many other reasons. When I started this blog in 2017, I didnt know or care about \"reproducibilty\". So, many of my early posts cannot be rerun because the data is lost, hidden on some old harddrive, and have paths that do not reolve anymore. So, without trying, I felt it is highly unlikely that I can rerender all posts in Quarto without considerable effort.\n\nBut there was one thing I was willing to try, purely out of technical interest:\n\nIs it possible to convert the html posts back to a raw markdown file? That way, I would not need to to rerun all analysis and only render to html with my new Quarto theme (and probably some yaml patching). \n\n## Preparatory steps\n\nI started created a [csv file](https://github.com/schochastics/quarto-blog/blob/main/posts/2024-01-02_migrating-to-quarto/posts.csv) with all posts. This was done semiautomatic by scraping my own blog. the only manual step are the categories. I was very random on my old blog and I recategorized everything.\n\n\n::: {.cell}\n\n:::\n\n\nNext, I downloaded the html files. This was surprisingly challenging. \nI tried some automatic approaches (`download.file()`, the `rvest` package) but the best was to save the page via `CTRL+S` in firefox. This created the html file and a folder containing all assets. In later steps, it turned out to be very benefitial to have it that way.[^1]\n\n\n\n## Addendum\n\nThe full migration script is available on [GitHub](https://github.com/schochastics/quarto-blog/blob/main/posts/2024-01-02_migrating-to-quarto/migration.R). This is not going to work out of the box for other blogs, because it does depend on the theme used of the blog.\n\n\n[^1]: There is for sure a better (and automatic) way to do this. But I gave this project one afternoon/evening, so I was not willing to dig deeper.",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}