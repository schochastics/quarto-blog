{
  "hash": "65654962d60ec099de51e5cebd7385eb",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Analysing collaborations among R package developers\"\nauthor:\n  - name: David Schoch\n    orcid: 0000-0003-2952-4812\ndate: 2024-01-15\ncategories: [R, networks, data analysis]\n---\n\n\nOnce upon a time I was a hardcore network scientist. These days though, they are more peripheral in my work and I just like to toy around with interesting datasets. One of those is the CRAN co-authorship, or *collaboration network*. This network can be easily assembled based on the authors field in all DESCRIPTION files of packages available on CRAN. I have done a low level analysis on [GitHub](https://github.com/schochastics/CRAN_collaboration), also featured in\n[tidytuesday](https://github.com/rfordatascience/tidytuesday/tree/master/data/2023/2023-09-19) and including the introduction of the Hadley number, but always wanted to do a longer write up. After reading [Working in Public: The Making and Maintenance of Open Source Software](https://press.stripe.com/working-in-public), I finally got the last bit of motivation for it. The book deals with modern Open Source development (mostly on GitHub) which is more collaborative than \"in the old days\". \n\nFor this, I will not only use the data provided by CRAN, but also by [r-universe](https://r-universe.dev).\n\n## Getting Data from CRAN and r-universe\n\n\n::: {.cell messages='false'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.4.4     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n:::\n\n\nIt is actually quite easy to get all DESCRIPTION (and more!) metadata from CRAN. It is a single function call. \n\n::: {.cell}\n\n```{.r .cell-code}\ndb <- tools::CRAN_package_db()\nstr(db)\n```\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nspc_tbl_ [20,261 × 67] (S3: spec_tbl_df/tbl_df/tbl/data.frame)\n $ Package                : chr [1:20261] \"A3\" \"AalenJohansen\" \"AATtools\" \"ABACUS\" ...\n $ Version                : chr [1:20261] \"1.0.0\" \"1.0\" \"0.0.2\" \"1.0.0\" ...\n $ Priority               : chr [1:20261] NA NA NA NA ...\n $ Depends                : chr [1:20261] \"R (>= 2.15.0), xtable, pbapply\" NA \"R (>= 3.6.0)\" \"R (>= 3.1.0)\" ...\n $ Imports                : chr [1:20261] NA NA \"magrittr, dplyr, doParallel, foreach\" \"ggplot2 (>= 3.1.0), shiny (>= 1.3.1),\" ...\n $ LinkingTo              : chr [1:20261] NA NA NA NA ...\n $ Suggests               : chr [1:20261] \"randomForest, e1071\" \"knitr, rmarkdown\" NA \"rmarkdown (>= 1.13), knitr (>= 1.22)\" ...\n $ Enhances               : chr [1:20261] NA NA NA NA ...\n $ License                : chr [1:20261] \"GPL (>= 2)\" \"GPL (>= 2)\" \"GPL-3\" \"GPL-3\" ...\n $ License_is_FOSS        : chr [1:20261] NA NA NA NA ...\n $ License_restricts_use  : logi [1:20261] NA NA NA NA NA NA ...\n $ OS_type                : chr [1:20261] NA NA NA NA ...\n $ Archs                  : chr [1:20261] NA NA NA NA ...\n $ MD5sum                 : chr [1:20261] \"027ebdd8affce8f0effaecfcd5f5ade2\" \"d7eb2a6275daa6af43bf8a980398b312\" \"bc59207786e9bc49167fd7d8af246b1c\" \"50c54c4da09307cb95a70aaaa54b9fbd\" ...\n $ NeedsCompilation       : chr [1:20261] \"no\" \"no\" \"no\" \"no\" ...\n $ Additional_repositories: chr [1:20261] NA NA NA NA ...\n $ Author                 : chr [1:20261] \"Scott Fortmann-Roe\" \"Martin Bladt [aut, cre],\\n  Christian Furrer [aut]\" \"Sercan Kahveci [aut, cre]\" \"Mintu Nath [aut, cre]\" ...\n $ Authors@R              : chr [1:20261] NA \"c(person(\\\"Martin\\\", \\\"Bladt\\\", email = \\\"martinbladt@math.ku.dk\\\", role = c(\\\"aut\\\", \\\"cre\\\")),\\n             \"| __truncated__ \"person(\\\"Sercan\\\", \\\"Kahveci\\\", email = \\\"sercan.kahveci@sbg.ac.at\\\", role = c(\\\"aut\\\", \\\"cre\\\"))\" NA ...\n $ Biarch                 : logi [1:20261] NA NA NA NA NA NA ...\n $ BugReports             : chr [1:20261] NA NA \"https://github.com/Spiritspeak/AATtools/issues\" NA ...\n $ BuildKeepEmpty         : chr [1:20261] NA NA NA NA ...\n $ BuildManual            : logi [1:20261] NA NA NA NA NA NA ...\n $ BuildResaveData        : chr [1:20261] NA NA NA NA ...\n $ BuildVignettes         : chr [1:20261] NA NA NA NA ...\n $ Built                  : logi [1:20261] NA NA NA NA NA NA ...\n $ ByteCompile            : chr [1:20261] NA NA \"true\" NA ...\n $ Classification/ACM     : logi [1:20261] NA NA NA NA NA NA ...\n $ Classification/ACM-2012: logi [1:20261] NA NA NA NA NA NA ...\n $ Classification/JEL     : logi [1:20261] NA NA NA NA NA NA ...\n $ Classification/MSC     : chr [1:20261] NA NA NA NA ...\n $ Classification/MSC-2010: logi [1:20261] NA NA NA NA NA NA ...\n $ Collate                : chr [1:20261] NA NA NA NA ...\n $ Collate.unix           : logi [1:20261] NA NA NA NA NA NA ...\n $ Collate.windows        : logi [1:20261] NA NA NA NA NA NA ...\n $ Contact                : chr [1:20261] NA NA NA NA ...\n $ Copyright              : chr [1:20261] NA NA NA NA ...\n $ Date                   : chr [1:20261] \"2015-08-15\" NA NA NA ...\n $ Date/Publication       : chr [1:20261] \"2015-08-16 23:05:52\" \"2023-03-01 10:42:09 UTC\" \"2022-08-12 13:40:09 UTC\" \"2019-09-20 07:40:06 UTC\" ...\n $ Description            : chr [1:20261] \"Supplies tools for tabulating and analyzing the results of predictive models. The methods employed are applicab\"| __truncated__ \"Provides the conditional Nelson-Aalen and Aalen-Johansen estimators. The methods are based on Bladt & Furrer (2\"| __truncated__ \"Compute approach bias scores using different scoring algorithms,\\n    compute bootstrapped and exact split-half\"| __truncated__ \"A set of Shiny apps for effective communication and understanding in statistics. The current version includes p\"| __truncated__ ...\n $ Encoding               : chr [1:20261] NA \"UTF-8\" \"UTF-8\" \"UTF-8\" ...\n $ KeepSource             : logi [1:20261] NA NA NA NA NA NA ...\n $ Language               : chr [1:20261] NA NA NA NA ...\n $ LazyData               : chr [1:20261] NA NA \"true\" \"true\" ...\n $ LazyDataCompression    : chr [1:20261] NA NA NA NA ...\n $ LazyLoad               : chr [1:20261] NA NA NA NA ...\n $ MailingList            : chr [1:20261] NA NA NA NA ...\n $ Maintainer             : chr [1:20261] \"Scott Fortmann-Roe <scottfr@berkeley.edu>\" \"Martin Bladt <martinbladt@math.ku.dk>\" \"Sercan Kahveci <sercan.kahveci@sbg.ac.at>\" \"Mintu Nath <dr.m.nath@gmail.com>\" ...\n $ Note                   : chr [1:20261] NA NA NA NA ...\n $ Packaged               : chr [1:20261] \"2015-08-16 14:17:33 UTC; scott\" \"2023-02-28 18:01:12 UTC; martinbladt\" \"2022-08-12 13:12:35 UTC; b1066151\" \"2019-09-12 14:16:35 UTC; s02mn9\" ...\n $ RdMacros               : chr [1:20261] NA NA NA NA ...\n $ StagedInstall          : chr [1:20261] NA NA NA NA ...\n $ SysDataCompression     : logi [1:20261] NA NA NA NA NA NA ...\n $ SystemRequirements     : chr [1:20261] NA NA NA NA ...\n $ Title                  : chr [1:20261] \"Accurate, Adaptable, and Accessible Error Metrics for Predictive\\nModels\" \"Conditional Aalen-Johansen Estimation\" \"Reliability and Scoring Routines for the Approach-Avoidance Task\" \"Apps Based Activities for Communicating and Understanding\\nStatistics\" ...\n $ Type                   : chr [1:20261] \"Package\" \"Package\" \"Package\" NA ...\n $ URL                    : chr [1:20261] NA NA NA \"https://shiny.abdn.ac.uk/Stats/apps/\" ...\n $ UseLTO                 : logi [1:20261] NA NA NA NA NA NA ...\n $ VignetteBuilder        : chr [1:20261] NA \"knitr\" NA \"knitr\" ...\n $ ZipData                : chr [1:20261] NA NA NA NA ...\n $ Path                   : chr [1:20261] NA NA NA NA ...\n $ X-CRAN-Comment         : logi [1:20261] NA NA NA NA NA NA ...\n $ Published              : Date[1:20261], format: \"2015-08-16\" \"2023-03-01\" ...\n $ Reverse depends        : chr [1:20261] NA NA NA NA ...\n $ Reverse imports        : chr [1:20261] NA NA NA NA ...\n $ Reverse linking to     : chr [1:20261] NA NA NA NA ...\n $ Reverse suggests       : chr [1:20261] NA NA NA NA ...\n $ Reverse enhances       : chr [1:20261] NA NA NA NA ...\n - attr(*, \"spec\")=\n  .. cols(\n  ..   Package = col_character(),\n  ..   Version = col_character(),\n  ..   Priority = col_character(),\n  ..   Depends = col_character(),\n  ..   Imports = col_character(),\n  ..   LinkingTo = col_character(),\n  ..   Suggests = col_character(),\n  ..   Enhances = col_character(),\n  ..   License = col_character(),\n  ..   License_is_FOSS = col_character(),\n  ..   License_restricts_use = col_logical(),\n  ..   OS_type = col_character(),\n  ..   Archs = col_character(),\n  ..   MD5sum = col_character(),\n  ..   NeedsCompilation = col_character(),\n  ..   Additional_repositories = col_character(),\n  ..   Author = col_character(),\n  ..   `Authors@R` = col_character(),\n  ..   Biarch = col_logical(),\n  ..   BugReports = col_character(),\n  ..   BuildKeepEmpty = col_character(),\n  ..   BuildManual = col_logical(),\n  ..   BuildResaveData = col_character(),\n  ..   BuildVignettes = col_character(),\n  ..   Built = col_logical(),\n  ..   ByteCompile = col_character(),\n  ..   `Classification/ACM` = col_logical(),\n  ..   `Classification/ACM-2012` = col_logical(),\n  ..   `Classification/JEL` = col_logical(),\n  ..   `Classification/MSC` = col_character(),\n  ..   `Classification/MSC-2010` = col_logical(),\n  ..   Collate = col_character(),\n  ..   Collate.unix = col_logical(),\n  ..   Collate.windows = col_logical(),\n  ..   Contact = col_character(),\n  ..   Copyright = col_character(),\n  ..   Date = col_character(),\n  ..   `Date/Publication` = col_character(),\n  ..   Description = col_character(),\n  ..   Encoding = col_character(),\n  ..   KeepSource = col_logical(),\n  ..   Language = col_character(),\n  ..   LazyData = col_character(),\n  ..   LazyDataCompression = col_character(),\n  ..   LazyLoad = col_character(),\n  ..   MailingList = col_character(),\n  ..   Maintainer = col_character(),\n  ..   Note = col_character(),\n  ..   Packaged = col_character(),\n  ..   RdMacros = col_character(),\n  ..   StagedInstall = col_character(),\n  ..   SysDataCompression = col_logical(),\n  ..   SystemRequirements = col_character(),\n  ..   Title = col_character(),\n  ..   Type = col_character(),\n  ..   URL = col_character(),\n  ..   UseLTO = col_logical(),\n  ..   VignetteBuilder = col_character(),\n  ..   ZipData = col_character(),\n  ..   Path = col_character(),\n  ..   `X-CRAN-Comment` = col_logical(),\n  ..   Published = col_date(format = \"\"),\n  ..   `Reverse depends` = col_character(),\n  ..   `Reverse imports` = col_character(),\n  ..   `Reverse linking to` = col_character(),\n  ..   `Reverse suggests` = col_character(),\n  ..   `Reverse enhances` = col_character()\n  .. )\n - attr(*, \"problems\")=<externalptr> \n```\n\n\n:::\n:::\n\n::: {.cell}\n\n:::\n\n\nThe actual hard part is to clean up the authors field. I tried to to this semi-automatically with a [script](https://github.com/schochastics/CRAN_collaboration/blob/main/Rscripts/helpers.R) which was very tideous and I am sure I missed some.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nauthor_pkg_cran <- author_cleaner(db)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nstr(author_pkg_cran)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\ntibble [52,631 × 2] (S3: tbl_df/tbl/data.frame)\n $ Package : chr [1:52631] \"A3\" \"AalenJohansen\" \"AalenJohansen\" \"AATtools\" ...\n $ authorsR: chr [1:52631] \"Scott Fortmann-Roe\" \"Martin Bladt\" \"Christian Furrer\" \"Sercan Kahveci\" ...\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# remotes::install_github(\"coolbutuseless/yyjsonr\",ref = \"ndjson\")\npackageVersion(\"yyjsonr\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] '0.1.12'\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nurl <- \"https://r-universe.dev/stats/contributors\"\ndownload.file(url, destfile = \"contributors.dev\")\ncontribs <- yyjsonr::read_ndjson_file(\"contributors.dev\")\n```\n:::\n\n::: {.cell}\n\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}